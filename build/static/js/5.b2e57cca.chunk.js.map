{"version":3,"sources":["views/SuperAdmin/Restaurants/index.js"],"names":["SuperAdminRestaurantsPage","useState","restaurants","setRestaurants","actionLoading","setActionLoading","loading","setLoading","useEffect","validationMailSuperAdmin","a","axios","url","method","then","res","data","catch","err","validateMail","_id","r","blockMail","className","alt","src","to","routes","superAdminHomePage","border","style","textAlign","map","e","width","isAuthorized","disabled","onClick","isVerified","email","restorer","fullname","societyName","fieldOfActivity","siretNumber","address","phone"],"mappings":"sPA0HeA,UAlHmB,WACjC,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA0CF,oBAAS,GAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACAC,qBAAU,WACTD,GAAW,GACXE,IACAF,GAAW,KACT,IAEH,IAAME,EAAwB,uCAAG,sBAAAC,EAAA,sEAC1BC,IAAM,CACXC,IAAK,6BACLC,OAAQ,QAEPC,MAAK,SAACC,GACNZ,EAAeY,EAAIC,KAAKA,SAExBC,OAAM,SAACC,OARuB,2CAAH,qDAUxBC,EAAY,uCAAG,WAAOC,GAAP,SAAAV,EAAA,6DACpBL,GAAiB,GADG,SAEdM,IAAM,CACXC,IAAI,uCAAD,OAAyCQ,GAC5CP,OAAQ,QACNC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACDD,IADC,OAEPJ,GAAiB,GAFV,2CAHF,uDAFc,2CAAH,sDAUZiB,EAAS,uCAAG,WAAOF,GAAP,SAAAV,EAAA,6DACjBL,GAAiB,GADA,SAEXM,IAAM,CACXC,IAAI,oCAAD,OAAsCQ,GACzCP,OAAQ,QACNC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACDD,IADC,OAEPJ,GAAiB,GAFV,2CAHF,uDAFW,2CAAH,sDAWf,OACC,mCACC,qBAAKkB,UAAU,wBAAf,SACC,sBAAKA,UAAU,sBAAf,UACC,qBAAKA,UAAU,mBAAf,SACC,qBAAKC,IAAI,UAAUC,IAAI,yBAExB,sBAAKF,UAAU,cAAf,UACC,eAAC,IAAD,CAAMA,UAAU,WAAWG,GAAIC,IAAOC,mBAAtC,UACC,qBAAKJ,IAAI,UAAUC,IAAI,2BACvB,6CAED,qBAAKF,UAAU,wBAAf,SACC,wBAAOM,OAAO,IAAIC,MAAO,CAAEC,UAAW,UAAtC,UACC,gCACC,+BACC,uBACA,6CACA,wCACA,kDACA,+CACA,uDACA,oDACA,yCACA,uDAGAzB,GACD,gCACEJ,EAAY8B,KAAI,SAACC,GAAD,OAChB,+BACC,oBAAIH,MAAO,CAAEI,MAAO,QAApB,SACED,EAAEE,aACF,wBACCZ,UAAU,gBACVa,SAAUhC,EACViC,QAAS,kBAAMf,EAAUW,EAAEb,MAH5B,mBAQA,wBACCG,UAAU,mBACVa,SAAUhC,EACViC,QAAS,kBAAMlB,EAAac,EAAEb,MAH/B,wBASF,6BAAKa,EAAEE,aAAe,SAAM,iBAC5B,+BACEF,EAAEK,WAAa,SAAM,eADvB,OACmCL,EAAEM,SAErC,6BAAKN,EAAEO,SAASC,WAChB,6BAAKR,EAAES,cACP,6BAAKT,EAAEU,kBACP,6BAAKV,EAAEW,cACP,6BAAKX,EAAEY,UACP,6BAAKZ,EAAEa,UA7BCb,EAAEM","file":"static/js/5.b2e57cca.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport routes from \"../../../routes/superAdmin\";\n\nimport \"./restaurants.css\";\nimport \"../Home/home.css\";\n\nconst SuperAdminRestaurantsPage = () => {\n\tconst [restaurants, setRestaurants] = useState([]);\n\tconst [actionLoading, setActionLoading] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tvalidationMailSuperAdmin();\n\t\tsetLoading(false);\n\t}, []);\n\n\tconst validationMailSuperAdmin = async () => {\n\t\tawait axios({\n\t\t\turl: \"/api/admin/restaurant/list\",\n\t\t\tmethod: \"GET\",\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetRestaurants(res.data.data);\n\t\t\t})\n\t\t\t.catch((err) => { });\n\t};\n\tconst validateMail = async (_id) => {\n\t\tsetActionLoading(true);\n\t\tawait axios({\n\t\t\turl: `/api/admin/validate/mail/restaurant/${_id}`,\n\t\t\tmethod: \"GET\",\n\t\t}).then(async (r) => {\n\t\t\tawait validationMailSuperAdmin();\n\t\t\tsetActionLoading(false);\n\t\t});\n\t};\n\tconst blockMail = async (_id) => {\n\t\tsetActionLoading(true);\n\t\tawait axios({\n\t\t\turl: `/api/admin/block/mail/restaurant/${_id}`,\n\t\t\tmethod: \"GET\",\n\t\t}).then(async (r) => {\n\t\t\tawait validationMailSuperAdmin();\n\t\t\tsetActionLoading(false);\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"restaurants-container\">\n\t\t\t\t<div className=\"restaurants-content\">\n\t\t\t\t\t<div className=\"restaurants-logo\">\n\t\t\t\t\t\t<img alt=\"loading\" src=\"../img/Group73.png\"></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"super-admin\">\n\t\t\t\t\t\t<Link className=\"btn-back\" to={routes.superAdminHomePage}>\n\t\t\t\t\t\t\t<img alt=\"loading\" src=\"../../img/btn-back.png\"></img>\n\t\t\t\t\t\t\t<span>Retour</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"restaurants-btn-items\">\n\t\t\t\t\t\t\t<table border=\"0\" style={{ textAlign: \"center\" }}>\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t<th>AutorisÃ©</th>\n\t\t\t\t\t\t\t\t\t\t<th>E-mail</th>\n\t\t\t\t\t\t\t\t\t\t<th>Nom et prÃ©nom</th>\n\t\t\t\t\t\t\t\t\t\t<th>SociÃ©tÃ©</th>\n\t\t\t\t\t\t\t\t\t\t<th>Type de sociÃ©tÃ©</th>\n\t\t\t\t\t\t\t\t\t\t<th>NumÃ©ro de siret</th>\n\t\t\t\t\t\t\t\t\t\t<th>Adresse</th>\n\t\t\t\t\t\t\t\t\t\t<th>TÃ©lÃ©phone</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t{!loading && (\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{restaurants.map((e) => (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={e.email}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={{ width: \"65px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{e.isAuthorized ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn block-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={actionLoading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => blockMail(e._id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBlock\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn validate-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={actionLoading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => validateMail(e._id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tValidate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.isAuthorized ? \"âœ…\" : \"ðŸš«\"}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{e.isVerified ? \"âœ…\" : \"ðŸš«\"}&nbsp;{e.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.restorer.fullname}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.societyName}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.fieldOfActivity}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.siretNumber}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.address}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.phone}</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default SuperAdminRestaurantsPage;"],"sourceRoot":""}