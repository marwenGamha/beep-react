(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{162:function(e,t,a){},195:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),i=a(8),s=a(6),l=a(20),r=a.n(l),o=a(0),u=a(22),d=a(42),b=(a(162),a(2));t.default=function(){var e=Object(o.useState)("../../img/no_image.png"),t=Object(s.a)(e,2),a=(t[0],t[1]),n=Object(o.useState)(null),l=Object(s.a)(n,2),j=l[0],m=l[1],g=Object(o.useState)(""),f=Object(s.a)(g,2),h=f[0],p=f[1],A=Object(o.useState)(!0),O=Object(s.a)(A,2),x=O[0],S=O[1],v=Object(o.useState)(""),N=Object(s.a)(v,2),w=(N[0],N[1]),k=Object(o.useState)(""),y=Object(s.a)(k,2),F=y[0],I=y[1];Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")),t=e.societyName;e.ImageMenu;w(t),I(F?"".concat(F):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=")}),[]);function C(){return(C=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("file",j),e.next=5,r()({url:"/api/restaurant/uploadM",method:"POST",data:n,headers:{Authorization:"auth-token:".concat(localStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){if(!0===e.data.success){t.target.reset();var n=JSON.parse(localStorage.getItem("user"));n.imageMenu=e.data.filename,localStorage.setItem("user",JSON.stringify(n)),I("".concat(e.data.filename)),m(null),p(!1),a(!1),S(!0)}})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"logo-container",children:Object(b.jsxs)("div",{className:"logo-content",children:[Object(b.jsxs)(u.b,{className:"btn-back",to:d.a.adminHomePage,children:[Object(b.jsx)("img",{alt:"loading",src:"../../img/btn-back.png"}),Object(b.jsx)("span",{children:"Retour"})]}),Object(b.jsx)("div",{className:"container-right",children:Object(b.jsxs)("div",{className:"account",children:[Object(b.jsx)("div",{className:"logo-title logo-title-input",children:"Ajouter/Modifier l\u2019image:"}),Object(b.jsxs)("div",{className:"container-upload",children:[Object(b.jsx)("label",{className:"upload-text",htmlFor:"uplaod",children:Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:h||"Aucun fichier s\xe9lectionn\xe9"})})}),Object(b.jsx)("label",{className:"btn button",htmlFor:"uplaod",children:"T\xe9l\xe9charger PDF"})]}),Object(b.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(b.jsx)("input",{className:"logo-hide-input",id:"uplaod",type:"file",name:"file",accept:"file/*",onChange:function(e){return function(e){var t=e.target.files[0];if(console.log(t),t){var n=new FileReader;n.onloadend=function(){return a(n.result)},n.readAsDataURL(t),p(e.target.files[0].name),m(e.target.files[0]),S(!1)}else a(null),p(null),S(!0)}(e)},required:!0}),Object(b.jsx)("button",{type:"submit",className:"btn btn-logo-submit",onClick:function(){window.alert("fichier t\xe9l\xe9charg\xe9 avec succ\xe8s")},disabled:x,children:"Enregistrer"})]})]})})]})})})}}}]);
//# sourceMappingURL=15.3ae0b50c.chunk.js.map