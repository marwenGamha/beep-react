{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","views/Admin/Register/index.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","RegisterPage","props","useState","rightMenuActiveBtn","setrightMenuActiveBtn","message","setMessage","messageType","setMessageType","loading","setLoading","history","useHistory","location","useLocation","useEffect","type","changeView","_to","document","querySelector","setAttribute","registerLogic","a","preventDefault","registerForm","formData","FormData","tmp","values","push","data","JSON","stringify","restorer","fullname","shift","societyName","siretNumber","address","phone","fieldOfActivity","email","password","axios","url","method","headers","then","r","msg","iteams","substr","indexOf","status","catch","parse","request","response","split","map","className","dghlbw","href","onClick","alt","src","to","routes","adminRegisterPage","adminRegisterProPage","onSubmit","placeholder","name","required","defaultValue","onChange","disabled","hidden","title","index"],"mappings":"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","file":"static/js/12.1833ccab.chunk.js","sourcesContent":["import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import axios from \"axios\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n\nimport routes from \"../../../routes/restaurant\";\n\nimport \"./register.css\";\n\nconst RegisterPage = (props) => {\n  const [rightMenuActiveBtn, setrightMenuActiveBtn] = useState(\"a1\");\n  const [message, setMessage] = useState(\"\");\n  const [messageType, setMessageType] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (props.type) {\n      if (props.type === \"pro\") {\n        changeView(\"cmvnax\");\n        setrightMenuActiveBtn(\"a3\");\n      } else if (props.type === \"register\") {\n        changeView(\"ag9tzq\");\n        setrightMenuActiveBtn(\"a1\");\n      }\n    } else {\n      changeView(\"ag9tzq\");\n      setrightMenuActiveBtn(\"a0\");\n    }\n  }, [location, props.type]);\n\n  const changeView = (_to) => {\n    setMessage([]);\n    setMessageType(\"\");\n    document.querySelector(\".register-container\").setAttribute(\"dghlbw\", _to);\n  };\n\n  const registerLogic = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const registerForm = document.querySelector(\"form\");\n    const formData = new FormData(registerForm);\n\n    const tmp = [];\n    for (var value of formData.values()) tmp.push(value);\n\n    const data = JSON.stringify({\n      restorer: {\n        fullname: tmp.shift(),\n      },\n      societyName: tmp.shift(),\n      siretNumber: tmp.shift(),\n      address: tmp.shift(),\n      phone: tmp.shift(),\n      fieldOfActivity: tmp.shift(),\n      email: tmp.shift(),\n      password: tmp.shift(),\n    });\n\n    await axios({\n      url: \"/api/restaurant/register\",\n      method: \"POST\",\n      data,\n      headers: { \"Content-Type\": \"application/json\" },\n      'Accept': 'application/json'\n    })\n      .then((r) => {\n        const msg = r.data.message;\n        const iteams = [];\n        iteams.push(msg.substr(msg.indexOf(\":\") + 1));\n        setMessage(iteams);\n        setMessageType(r.data.status === \"ok\" ? \"ok\" : \"ko\");\n        setLoading(false);\n      })\n      .catch((e) => {\n        const msg = JSON.parse(e.request.response).message;\n        const iteams = [];\n\n        iteams.push(msg.substr(0, msg.indexOf(\":\")));\n        msg\n          .substr(msg.indexOf(\":\") + 1)\n          .split(\",\")\n          .map((e) => iteams.push(e));\n        setMessage(iteams);\n        setMessageType(\"ko\");\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"register-container\" dghlbw=\"ag9tzq\">\n        <div className=\"register-content\">\n          <div className=\"navbar\">\n            <div className=\"logo\">\n              <a\n                href=\"/\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  history.push(\"/\");\n                  changeView(\"ag9tzq\");\n                }}\n              >\n                <img alt=\"loading\" src=\"../img/Group73.png\"></img>\n              </a>\n            </div>\n            <div className={\"menu-right \" + rightMenuActiveBtn}>\n              <Link className=\"btn-1\" to={routes.adminRegisterPage}>\n                Inscription\n              </Link>\n              <Link className=\"btn-1\" to=\"/login\">\n                Connexion\n              </Link>\n              <Link className=\"button\" to={routes.adminRegisterProPage}>\n                Espace pro\n              </Link>\n            </div>\n          </div>\n          <div className=\"container\">\n            <div className=\"img img1\">\n              <img\n                alt=\"loading\"\n                src=\"../img/nate-johnston-ozHMc88WgcI-unsplash.jpg\"\n              />\n              <div className=\"shadow\">\n                <div className=\"text text2\">\n                  <span className=\"text_1\">\n                    Cumulez vos points de fidélité dans tous les restaurants\n                    partenaires\n                  </span>\n                  <br></br>\n                  <button className=\"pro pro2\">Commencez</button>\n                </div>\n              </div>\n            </div>\n            <div className=\"transition1\"></div>\n            <div className=\"img img2\">\n              <img\n                alt=\"loading\"\n                src=\"../img/angelika-agibalova-_wb8P6oy3FE-unsplash.jpg\"\n              />\n              <div className=\"shadow\">\n                <div className=\"text\">\n                  <span className=\"text_2\">\n                    Créez du lien avec vos clients avec Beepmaker\n                  </span>\n                  <br></br>\n                  <button\n                      className={\"btn pro sonar \" + rightMenuActiveBtn}\n                      onClick={() => {\n                        history.push(\"/register/pro\");\n                        changeView(\"cmvnax\");\n                      }}\n                  >\n                    Espace pro\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div className=\"transition2\"></div>\n            <div className=\"home-register\">\n              <div className=\"home-register2\">\n                <div className=\"title\">\n                  <h2>Demande de partenariat</h2>\n                </div>\n                <div className=\"content\">\n                  <form onSubmit={registerLogic}>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Nom et prénom du responsable\"\n                      name=\"fullname\"\n                      required\n                    />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Nom de la société\"\n                      name=\"societyName\"\n                      required\n                    />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Numéro de siret\"\n                      name=\"siretNumber\"\n                      required\n                    />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Adresse du siege social\"\n                      name=\"address\"\n                      required\n                    />\n                    <input\n                      type=\"phone\"\n                      placeholder=\"Numéro de téléphone\"\n                      name=\"phone\"\n                      required\n                    />\n                    <select\n                      name=\"fieldOfActivity\"\n                      defaultValue=\"test\"\n                      onChange={() => {}}\n                    >\n                      <option value=\"\" disabled hidden>\n                        Type d'entreprise\n                      </option>\n                      <option\n                        value=\"Entreprise individuelle\"\n                        title=\"Entreprise individuelle\"\n                      >\n                        Entreprise individuelle\n                      </option>\n                      <option\n                        value=\"Société à responsabilité limitée (SARL)\"\n                        title=\"Société à responsabilité limitée (SARL)\"\n                      >\n                        Société à responsabilité limitée (SARL)\n                      </option>\n                      <option\n                        value=\"Société unipersonnelle à responsabilité limitée (SUARL)\"\n                        title=\"Société unipersonnelle à responsabilité limitée (SUARL)\"\n                      >\n                        Société unipersonnelle à responsabilité limitée (SUARL)\n                      </option>\n                      <option\n                        value=\"Société anonyme (SA)\"\n                        title=\"Société anonyme (SA)\"\n                      >\n                        Société anonyme (SA)\n                      </option>\n                      <option\n                        value=\"Société par actions simplifiée (SAS)\"\n                        title=\"Société par actions simplifiée (SAS)\"\n                      >\n                        Société par actions simplifiée (SAS)\n                      </option>\n                    </select>\n                    <input\n                      type=\"email\"\n                      placeholder=\"Mail\"\n                      name=\"email\"\n                      required\n                    />\n                    <input\n                      type=\"password\"\n                      placeholder=\"Mot de passe\"\n                      name=\"password\"\n                      required\n                    />\n                    {message.length > 0 && (\n                      <div className={\"alert-message \" + messageType}>\n                        {message.map((e, index) =>\n                          index === 0 ? (\n                            <span key={index}>\n                              <b>{e}</b>\n                            </span>\n                          ) : (\n                            <li key={index}>{e}</li>\n                          )\n                        )}\n                      </div>\n                    )}\n                    <button\n                      type=\"submit\"\n                      disabled={loading}\n                      className=\"btn btn-submit\"\n                    >\n                      Créer un compte\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default RegisterPage;"],"sourceRoot":""}