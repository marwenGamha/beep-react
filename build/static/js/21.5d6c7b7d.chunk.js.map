{"version":3,"sources":["views/SuperAdmin/Manage/index.js"],"names":["SuperAdminManagePage","useState","restaurants","setRestaurants","actionLoading","setActionLoading","loading","setLoading","useEffect","validationMailSuperAdmin","a","axios","url","method","then","res","data","catch","err","validateMail","_id","r","blockMail","className","border","style","textAlign","map","e","email","isVerified","isAuthorized","disabled","onClick"],"mappings":"2KAyFeA,UAtFc,WAC3B,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA0CF,oBAAS,GAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACAC,qBAAU,WACRD,GAAW,GACXE,IACAF,GAAW,KACV,IAEH,IAAME,EAAwB,uCAAG,sBAAAC,EAAA,sEACzBC,IAAM,CACVC,IAAK,6BACLC,OAAQ,QAEPC,MAAK,SAACC,GACLZ,EAAeY,EAAIC,KAAKA,SAEzBC,OAAM,SAACC,OARqB,2CAAH,qDAUxBC,EAAY,uCAAG,WAAOC,GAAP,SAAAV,EAAA,6DACnBL,GAAiB,GADE,SAEbM,IAAM,CACVC,IAAI,uCAAD,OAAyCQ,GAC5CP,OAAQ,QACPC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACAD,IADA,OAENJ,GAAiB,GAFX,2CAHF,uDAFa,2CAAH,sDAUZiB,EAAS,uCAAG,WAAOF,GAAP,SAAAV,EAAA,6DAChBL,GAAiB,GADD,SAEVM,IAAM,CACVC,IAAI,oCAAD,OAAsCQ,GACzCP,OAAQ,QACPC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACAD,IADA,OAENJ,GAAiB,GAFX,2CAHF,uDAFU,2CAAH,sDAUf,OACE,sBAAKkB,UAAU,cAAf,UACE,6EAEA,wBAAOC,OAAO,IAAIC,MAAO,CAAEC,UAAW,UAAtC,UACE,gCACE,+BACE,uCACA,0CACA,4CACA,+CAGFpB,GACA,gCACGJ,EAAYyB,KAAI,SAACC,GAAD,OACf,+BACE,6BAAKA,EAAEC,QACP,6BAAKD,EAAEE,WAAa,SAAM,iBAC1B,6BAAKF,EAAEG,aAAe,SAAM,iBAC5B,6BACGH,EAAEG,aACD,wBACEC,SAAU5B,EACV6B,QAAS,kBAAMX,EAAUM,EAAER,MAF7B,wBAOA,wBACEY,SAAU5B,EACV6B,QAAS,kBAAMd,EAAaS,EAAER,MAFhC,+BAbGQ,EAAEC","file":"static/js/21.5d6c7b7d.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nconst SuperAdminManagePage = () => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    validationMailSuperAdmin();\n    setLoading(false);\n  }, []);\n\n  const validationMailSuperAdmin = async () => {\n    await axios({\n      url: \"/api/admin/restaurant/list\",\n      method: \"GET\",\n    })\n      .then((res) => {\n        setRestaurants(res.data.data);\n      })\n      .catch((err) => {});\n  };\n  const validateMail = async (_id) => {\n    setActionLoading(true);\n    await axios({\n      url: `/api/admin/validate/mail/restaurant/${_id}`,\n      method: \"GET\",\n    }).then(async (r) => {\n      await validationMailSuperAdmin();\n      setActionLoading(false);\n    });\n  };\n  const blockMail = async (_id) => {\n    setActionLoading(true);\n    await axios({\n      url: `/api/admin/block/mail/restaurant/${_id}`,\n      method: \"GET\",\n    }).then(async (r) => {\n      await validationMailSuperAdmin();\n      setActionLoading(false);\n    });\n  };\n  return (\n    <div className=\"super-admin\">\n      <h2>Page de validation Email par le Super Admin</h2>\n\n      <table border=\"1\" style={{ textAlign: \"center\" }}>\n        <thead>\n          <tr>\n            <th>Email</th>\n            <th>Verified</th>\n            <th>Authorized</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        {!loading && (\n          <tbody>\n            {restaurants.map((e) => (\n              <tr key={e.email}>\n                <td>{e.email}</td>\n                <td>{e.isVerified ? \"âœ…\" : \"ðŸš«\"}</td>\n                <td>{e.isAuthorized ? \"âœ…\" : \"ðŸš«\"}</td>\n                <td>\n                  {e.isAuthorized ? (\n                    <button\n                      disabled={actionLoading}\n                      onClick={() => blockMail(e._id)}\n                    >\n                      Block mail\n                    </button>\n                  ) : (\n                    <button\n                      disabled={actionLoading}\n                      onClick={() => validateMail(e._id)}\n                    >\n                      Validate mail\n                    </button>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        )}\n      </table>\n    </div>\n  );\n};\n\nexport default SuperAdminManagePage;\n"],"sourceRoot":""}